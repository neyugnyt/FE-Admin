"use strict";(self.webpackChunkmultikart_backend=self.webpackChunkmultikart_backend||[]).push([[97],{8097:function(e,i,t){t.r(i),t.d(i,{SocialMediasModule:function(){return k}});var o=t(38583),a=t(90665),l=t(15834),r=t(61861),n=t(49493),s=t(70429),d=t(10494),c=t(98616),u=t(57870),m=t(59314),p=t(18217),h=t(5383),g=t(37716),f=t(20985),v=t(71279),Z=t(75288),q=t(36711);function M(e,i){1&e&&(g.TgZ(0,"span",23),g._uU(1," Title is required "),g.qZA())}function S(e,i){1&e&&(g.TgZ(0,"span",23),g._uU(1," Link is required "),g.qZA())}function C(e,i){1&e&&(g.TgZ(0,"span"),g._uU(1," Icon URL is required "),g.qZA())}function A(e,i){1&e&&(g.TgZ(0,"span",23),g._uU(1," Display Order is required "),g.qZA())}const F=function(e){return{"is-invalid ":e}};let U=(()=>{class e{constructor(e,i,t,o){this.formBuilder=e,this.ngbActiveModal=i,this.socialService=t,this.messageService=o,this.submitted=!1,this.modalFile=new h.mH,this.modalFile.typeFile=h.U9.IMAGE,this.modalFile.multiBoolen=!1,this.modalFile.enityType=h.py.SOCIALMEDIA}loadItemForm(){this.socialMediaForm=this.formBuilder.group({title:[this.item?this.item.title:"",[a.kI.required]],link:[this.item?this.item.link:"",[a.kI.required]],iconUrl:[this.item?this.item.iconUrl:"",[a.kI.required]],displayOrder:[this.item?this.item.displayOrder:"",[a.kI.required]]})}createModal(){this.modalHeader=new h.IQ,this.modalHeader.title=null!=this.item?`Update ${this.item.title}`:"Add Social Media",this.modalFooter=new h.Jt,this.modalFooter.title="Save"}saveSocialMedia(e){this.socialMedia={title:this.socialMediaForm.controls.title.value,link:this.socialMediaForm.controls.link.value,iconUrl:this.socialMediaForm.controls.iconUrl.value,displayOrder:this.socialMediaForm.controls.displayOrder.value,id:this.item?this.item.id:"",files:this.modalFile.listFile},this.submitted=!0,console.log(this.item),!this.socialMediaForm.invalid&&this.socialService.save(this.socialMedia).then(e=>{this.messageService.notification(this.item?"Social Media has been edited":"Social Media has been created",c.b.SUCCESS),this.submitted=!1,this.ngbActiveModal.close()}).catch(e=>{var i;this.messageService.alert(null!==(i=e.error.message)&&void 0!==i?i:JSON.stringify(e.error),c.b.ERROR)})}get SocialMediaFormControl(){return this.socialMediaForm.controls}close(e){this.ngbActiveModal.dismiss()}ngOnInit(){this.loadItemForm(),this.createModal(),this.item&&(this.fileURL=[],this.fileURL.push(this.item.iconUrl))}onChangeData(e){null!=e&&(this.fileURL||(this.fileURL=[]),e.add&&(this.fileURL=[...this.fileURL,...e.add]),e.remove&&this.fileURL.forEach((i,t)=>{i.includes(e.remove)&&this.fileURL.splice(t,1)}),e.removeAll&&(this.fileURL=[]),this.socialMediaForm.controls.iconUrl.setValue(this.fileURL.join(",")))}}return e.\u0275fac=function(i){return new(i||e)(g.Y36(a.qu),g.Y36(l.Kz),g.Y36(n.j),g.Y36(f.e))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-social-media-detail"]],decls:45,vars:18,consts:[[3,"data","onAction"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card","tab2-card"],[1,"card-body"],["id","account","role","tabpanel","aria-labelledby","account-tab",1,"tab-pane","fade","active","show"],["novalidate","",1,"needs-validation","user-add",3,"formGroup"],[1,"form-group","row"],["for","validationCustom0",1,"col-xl-3","col-md-4"],["id","validationCustom0","type","text","required","","formControlName","title",1,"form-control","col-xl-8","col-md-7",3,"ngClass"],[1,"invalid-feedback","col-md-5","offset-md-3"],["class","text-danger",4,"ngIf"],["for","validationCustom1",1,"col-xl-3","col-md-4"],["id","validationCustom1","type","text","required","","formControlName","link",1,"form-control","col-xl-8","col-md-7",3,"ngClass"],["for","validationCustom2",1,"col-xl-3","col-md-4"],["id","validationCustom2","type","text","required","","formControlName","iconUrl","hidden","",1,"form-control","col-xl-8","col-md-7"],[1,"col-xl-8","col-md-7","p-0"],["styleFile","width: 100%; height: auto;",3,"data","fileURL","onChange"],[1,"invalid-feedback","col-md-5","offset-md-3",2,"display","block"],[4,"ngIf"],["for","validationCustom3",1,"col-xl-3","col-md-4"],["id","validationCustom3","type","number","required","","formControlName","displayOrder",1,"form-control","col-xl-8","col-md-7",3,"ngClass"],[1,"text-danger"]],template:function(e,i){1&e&&(g.TgZ(0,"app-modal-header",0),g.NdJ("onAction",function(e){return i.close(e)}),g.qZA(),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.TgZ(7,"form",7),g.TgZ(8,"h4"),g._uU(9,"Social Media Details"),g.qZA(),g.TgZ(10,"div",8),g.TgZ(11,"label",9),g.TgZ(12,"span"),g._uU(13,"*"),g.qZA(),g._uU(14," Title"),g.qZA(),g._UZ(15,"input",10),g.TgZ(16,"div",11),g.YNc(17,M,2,0,"span",12),g.qZA(),g.qZA(),g.TgZ(18,"div",8),g.TgZ(19,"label",13),g.TgZ(20,"span"),g._uU(21,"*"),g.qZA(),g._uU(22," Link "),g.qZA(),g._UZ(23,"input",14),g.TgZ(24,"div",11),g.YNc(25,S,2,0,"span",12),g.qZA(),g.qZA(),g.TgZ(26,"div",8),g.TgZ(27,"label",15),g.TgZ(28,"span"),g._uU(29,"*"),g.qZA(),g._uU(30," Icon"),g.qZA(),g._UZ(31,"input",16),g.TgZ(32,"div",17),g.TgZ(33,"app-upload-file",18),g.NdJ("onChange",function(e){return i.onChangeData(e)}),g.qZA(),g.qZA(),g.TgZ(34,"div",19),g.YNc(35,C,2,0,"span",20),g.qZA(),g.qZA(),g.TgZ(36,"div",8),g.TgZ(37,"label",21),g.TgZ(38,"span"),g._uU(39,"*"),g.qZA(),g._uU(40," Display Order"),g.qZA(),g._UZ(41,"input",22),g.TgZ(42,"div",11),g.YNc(43,A,2,0,"span",12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(44,"app-modal-footer",0),g.NdJ("onAction",function(e){return i.saveSocialMedia(e)}),g.qZA()),2&e&&(g.Q6J("data",i.modalHeader),g.xp6(7),g.Q6J("formGroup",i.socialMediaForm),g.xp6(8),g.Q6J("ngClass",g.VKq(12,F,(i.SocialMediaFormControl.title.touched||i.submitted)&&((null==i.SocialMediaFormControl.title.errors?null:i.SocialMediaFormControl.title.errors.required)||(null==i.SocialMediaFormControl.title.errors?null:i.SocialMediaFormControl.title.errors.pattern)))),g.xp6(2),g.Q6J("ngIf",(i.SocialMediaFormControl.title.touched||i.submitted)&&((null==i.SocialMediaFormControl.title.errors?null:i.SocialMediaFormControl.title.errors.required)||(null==i.SocialMediaFormControl.title.errors?null:i.SocialMediaFormControl.title.errors.pattern))),g.xp6(6),g.Q6J("ngClass",g.VKq(14,F,(i.SocialMediaFormControl.link.touched||i.submitted)&&(null==i.SocialMediaFormControl.link.errors?null:i.SocialMediaFormControl.link.errors.required))),g.xp6(2),g.Q6J("ngIf",(i.SocialMediaFormControl.link.touched||i.submitted)&&(null==i.SocialMediaFormControl.link.errors?null:i.SocialMediaFormControl.link.errors.required)),g.xp6(8),g.Q6J("data",i.modalFile)("fileURL",i.fileURL),g.xp6(2),g.Q6J("ngIf",(i.SocialMediaFormControl.iconUrl.touched||i.submitted)&&(null==i.SocialMediaFormControl.iconUrl.errors?null:i.SocialMediaFormControl.iconUrl.errors.required)),g.xp6(6),g.Q6J("ngClass",g.VKq(16,F,(i.SocialMediaFormControl.displayOrder.touched||i.submitted)&&(null==i.SocialMediaFormControl.displayOrder.errors?null:i.SocialMediaFormControl.displayOrder.errors.required))),g.xp6(2),g.Q6J("ngIf",(i.SocialMediaFormControl.displayOrder.touched||i.submitted)&&(null==i.SocialMediaFormControl.displayOrder.errors?null:i.SocialMediaFormControl.displayOrder.errors.required)),g.xp6(1),g.Q6J("data",i.modalFooter))},directives:[v.R,a._Y,a.JL,a.sg,a.Fj,a.Q7,a.JJ,a.u,o.mk,o.O5,Z.R,a.wV,q.Y],styles:[""]}),e})();var b=t(46913);function T(e,i){if(1&e){const e=g.EpF();g.TgZ(0,"app-paging-server-view",8),g.NdJ("page",function(i){return g.CHM(e),g.oxw().onPage(i)}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("data",e.data)}}const y=[{path:"",children:[{path:"list-social-medias",component:(()=>{class e{constructor(e,i,t){this.modalService=e,this.socialService=i,this.messageService=t,this.params={},this.settings={mode:"external",actions:{position:"right"},columns:{iconUrl:{filter:!1,title:"Image",type:"custom",renderComponent:p.V},title:{title:"Title",type:"custom",renderComponent:u.M},link:{title:"Link",type:"html",valuePrepareFunction:e=>`<a href='${e}' target="_blank">${e}</a>`},displayOrder:{title:"Display Order",type:"custom",renderComponent:m.V}}}}getSocialMedias(){this.socialService.get({params:this.params}).then(e=>{e.hasError||(this.socialMedias=e.data.results,this.data=e.data)}).catch(e=>{})}open(e){var i=this.modalService.open(U,{size:"lg"});e&&(i.componentInstance.item=null==e?void 0:e.data),i.result.then(()=>this.getSocialMedias(),e=>{})}delete(e){this.messageService.confirm("Do you want to delete the social media?","Yes").then(i=>{i.isConfirmed&&this.socialService.delete(e.data).then(()=>{this.messageService.notification("Social media has been deleted",c.b.SUCCESS),this.getSocialMedias()})})}onPage(e){this.params.pageIndex=e,this.getSocialMedias()}ngOnInit(){this.params.pageIndex=0,this.getSocialMedias()}}return e.\u0275fac=function(i){return new(i||e)(g.Y36(l.FF),g.Y36(n.j),g.Y36(f.e))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-list-social-media"]],decls:10,vars:3,consts:[[1,"container-fluid"],[1,"card"],[1,"card-header"],[1,"card-body","vendor-table"],["id","batchDelete",1,"custom-datatable","media-datatable"],[1,"table-responsive"],[3,"settings","source","sourceChange","create","edit","delete"],[3,"data","page",4,"ngIf"],[3,"data","page"]],template:function(e,i){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"h5"),g._uU(4,"Social Media Details"),g.qZA(),g.qZA(),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"ng2-smart-table",6),g.NdJ("sourceChange",function(e){return i.socialMedias=e})("create",function(){return i.open(null)})("edit",function(e){return i.open(e)})("delete",function(e){return i.delete(e)}),g.qZA(),g.qZA(),g.qZA(),g.YNc(9,T,1,1,"app-paging-server-view",7),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(8),g.Q6J("settings",i.settings)("source",i.socialMedias),g.xp6(1),g.Q6J("ngIf",(null==i.data?null:i.data.totalPage)>1))},directives:[r.T5,o.O5,b.B],styles:[""]}),e})(),data:{title:"Social Media List",breadcrumb:"Social Media List"}}]}];let x=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[n.j],imports:[[o.ez,a.UX,x,l.IJ,r.ne,s.m]]}),e})()},57870:function(e,i,t){t.d(i,{M:function(){return a}});var o=t(37716);let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-custom-view-cell-string"]],inputs:{value:"value",rowData:"rowData"},decls:2,vars:1,consts:[[1,"text-left"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1),o.qZA()),2&e&&(o.xp6(1),o.Oqu(i.value))},styles:[""]}),e})()},59314:function(e,i,t){t.d(i,{V:function(){return a}});var o=t(37716);let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-customViewCell"]],inputs:{value:"value",rowData:"rowData"},decls:2,vars:1,consts:[[1,"text-right"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1),o.qZA()),2&e&&(o.xp6(1),o.Oqu(i.value))},styles:[""]}),e})()}}]);