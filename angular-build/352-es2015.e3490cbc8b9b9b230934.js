"use strict";(self.webpackChunkmultikart_backend=self.webpackChunkmultikart_backend||[]).push([[352],{15352:function(t,e,o){o.r(e),o.d(e,{ContactModule:function(){return x}});var a=o(38583),i=o(90665),n=o(22744),s=o(15834),r=o(61861),l=o(70429),c=o(10494),m=o(98616),d=o(37716),u=o(8403);let p=(()=>{class t{constructor(t){this.httpClient=t,this.url="/api/contact"}getList(t){return this.httpClient.getObservable(this.url,t).toPromise()}create(t){return this.httpClient.postObservable(this.url,t).toPromise()}update(t){return this.httpClient.putObservable(this.url,t).toPromise()}delete(t){return this.httpClient.deleteObservable(`${this.url}/?id=${null==t?void 0:t.id}`).toPromise()}save(t){return t.id?this.update(t):this.create(t)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(u.Y))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})();var h=o(57870),g=o(59314),v=o(48802),Z=o(8383),f=o(5383),b=o(71279),C=o(36711);let A=(()=>{class t{constructor(t,e,o){this.formBuilder=t,this.pageContentService=e,this.ngbActiveModal=o,this.editor=v,this.editorConfig={extraPlugins:[Z.Z]}}onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}ngOnInit(){this.loadItem(),this.createModal()}createModal(){this.modalHeader=new f.IQ,this.modalHeader.title="Update Contact",this.modalFooter=new f.Jt,this.modalFooter.buttons=[{color:"btn btn-primary",title:"close",onAction:t=>{this.ngbActiveModal.dismiss()}}],"Pending"==this.item.status&&(this.modalFooter.buttons=[{color:"btn btn-success",title:"Progress",onAction:t=>{this.progress()}},{color:"btn btn-primary",title:"Complete",onAction:t=>{this.complete()}}]),"In Progress"==this.item.status&&(this.modalFooter.buttons=[{color:"btn btn-primary",title:"Complete",onAction:t=>{this.complete()}}])}loadItem(){this.pageContentForm=this.formBuilder.group({firstName:[this.item?this.item.firstName:""],lastName:[this.item?this.item.lastName:""],email:[this.item?this.item.email:""],phoneNumber:[this.item?this.item.phoneNumber:""],message:[this.item?this.item.message:""],status:[this.item?this.item.status:""]})}loadModel(){this.contact={id:this.item?this.item.id:"",firstName:this.pageContentForm.value.firstName,lastName:this.pageContentForm.value.lastName,email:this.pageContentForm.value.email,phoneNumber:this.pageContentForm.value.phoneNumber,message:this.pageContentForm.value.message,status:this.item.status}}callServiceToSave(){this.pageContentService.save(this.contact).then(()=>{this.ngbActiveModal.close()}).catch(t=>{})}progress(){this.pageContentForm.invalid||(this.loadModel(),this.contact.status="In Progress",this.callServiceToSave())}complete(){this.pageContentForm.invalid||(this.loadModel(),this.contact.status="Completed",this.callServiceToSave())}close(t){this.ngbActiveModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.qu),d.Y36(p),d.Y36(s.Kz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-contact-details"]],inputs:{item:"item"},features:[d._Bn([p])],decls:35,vars:3,consts:[[3,"data","onAction"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card","tab2-card"],[1,"card-body"],["id","account","role","tabpanel","aria-labelledby","account-tab",1,"tab-pane","fade","active","show"],["novalidate","",1,"needs-validation","user-add",3,"formGroup"],[1,"form-group","row"],[1,"col-xl-3","col-md-4"],["type","text","formControlName","firstName","readonly","",1,"form-control","col-xl-9","col-md-8"],["type","text","formControlName","lastName","readonly","",1,"form-control","col-xl-9","col-md-8"],["type","text","formControlName","email","readonly","",1,"form-control","col-xl-9","col-md-8"],["type","text","formControlName","phoneNumber","readonly","",1,"form-control","col-xl-9","col-md-8"],["rows","4","formControlName","message","readonly","",1,"form-control","col-xl-9","col-md-8"],["type","text","formControlName","status","readonly","",1,"form-control","col-xl-9","col-md-8"]],template:function(t,e){1&t&&(d.TgZ(0,"app-modal-header",0),d.NdJ("onAction",function(t){return e.close(t)}),d.qZA(),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d.TgZ(7,"form",7),d.TgZ(8,"h4"),d._uU(9,"Contact Details"),d.qZA(),d.TgZ(10,"div",8),d.TgZ(11,"label",9),d._uU(12," First Name"),d.qZA(),d._UZ(13,"input",10),d.qZA(),d.TgZ(14,"div",8),d.TgZ(15,"label",9),d._uU(16," Last Name"),d.qZA(),d._UZ(17,"input",11),d.qZA(),d.TgZ(18,"div",8),d.TgZ(19,"label",9),d._uU(20," Email"),d.qZA(),d._UZ(21,"input",12),d.qZA(),d.TgZ(22,"div",8),d.TgZ(23,"label",9),d._uU(24," Phone Number"),d.qZA(),d._UZ(25,"input",13),d.qZA(),d.TgZ(26,"div",8),d.TgZ(27,"label",9),d._uU(28," Message"),d.qZA(),d._UZ(29,"textarea",14),d.qZA(),d.TgZ(30,"div",8),d.TgZ(31,"label",9),d._uU(32," Status"),d.qZA(),d._UZ(33,"input",15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(34,"app-modal-footer",0),d.NdJ("onAction",function(){return e.complete()}),d.qZA()),2&t&&(d.Q6J("data",e.modalHeader),d.xp6(7),d.Q6J("formGroup",e.pageContentForm),d.xp6(27),d.Q6J("data",e.modalFooter))},directives:[b.R,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,C.Y],styles:[""]}),t})();var y=o(20985),N=o(46913);function T(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"app-paging-server-view",8),d.NdJ("page",function(e){return d.CHM(t),d.oxw().onPage(e)}),d.qZA()}if(2&t){const t=d.oxw();d.Q6J("data",t.data)}}const q=[{path:"",children:[{path:"list-contact",component:(()=>{class t{constructor(t,e,o,a){this.modalService=t,this.contactService=e,this.messageService=o,this.datePipe=a,this.params={},this.settings={mode:"external",pager:{display:!0,perPage:10},actions:{position:"right",add:!1,delete:!1},columns:{firstName:{title:"First Name",type:"custom",renderComponent:h.M},lastName:{title:"Last Name",type:"custom",renderComponent:h.M},phoneNumber:{title:"Phone Number",type:"custom",renderComponent:g.V},email:{title:"Email"},status:{title:"Status"},createByDate:{title:"Create Date",valuePrepareFunction:t=>this.datePipe.transform(new Date(t),"dd/MM/yyyy"),type:"custom",renderComponent:g.V}}},this.getList()}openPopup(t){var e=this.modalService.open(A,{size:"lg"});t&&(e.componentInstance.item=t.data),t||(e.componentInstance.item=t),e.result.then(t=>{this.getList()},t=>{})}delete(t){this.messageService.confirm("Do you want to delete the category?","Yes").then(e=>{e.isConfirmed&&this.contactService.delete(t.data).then(()=>{this.messageService.notification("Contact has been deleted",m.b.SUCCESS),this.getList()})})}getList(){this.contactService.getList(null).then(t=>{t.hasError||(this.contacts=t.data)}).catch(t=>{})}onPage(t){this.params.pageIndex=t,this.getList()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(s.FF),d.Y36(p),d.Y36(y.e),d.Y36(a.uU))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-list-page-content"]],features:[d._Bn([p,a.uU])],decls:10,vars:3,consts:[[1,"container-fluid"],[1,"card"],[1,"card-header"],[1,"card-body","vendor-table"],[1,"custom-datatable","media-datatable"],[1,"table-responsive"],[3,"settings","source","edit","create","delete","sourceChange"],[3,"data","page",4,"ngIf"],[3,"data","page"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h5"),d._uU(4,"Contact Details"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"ng2-smart-table",6),d.NdJ("edit",function(t){return e.openPopup(t)})("create",function(){return e.openPopup(null)})("delete",function(t){return e.delete(t)})("sourceChange",function(t){return e.contacts=t}),d.qZA(),d.qZA(),d.qZA(),d.YNc(9,T,1,1,"app-paging-server-view",7),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("settings",e.settings)("source",e.contacts),d.xp6(1),d.Q6J("ngIf",(null==e.data?null:e.data.totalPage)>1))},directives:[r.T5,a.O5,N.B],styles:[""]}),t})(),data:{title:"Contact List",breadcrumb:"Contact List"}}]}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[c.Bz.forChild(q)],c.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.ez,S,i.UX,s.IJ,l.m,s.bz,r.ne,n.d]]}),t})()}}]);