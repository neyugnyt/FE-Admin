{"version":3,"mappings":"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","names":["routes","path","children","component","_profile_settings_profile_settings_component__WEBPACK_IMPORTED_MODULE_0__","data","title","breadcrumb","ProfileRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_2__","imports","exports","_angular_core__WEBPACK_IMPORTED_MODULE_7__","ctx_r6","ProfileSettingsComponent","formBuilder","profileService","route","authService","messageService","modalFile","src_app_shared_components_modals_models_modal_model__WEBPACK_IMPORTED_MODULE_2__","typeFile","multiBoolen","enityType","entrySub","unsubscribe","callUserInfo","subscribe","it","userInfo","loadFormItem","fileURL","push","imageUrl","profileForm","controls","passwordForm","group","firstName","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","lastName","email","password","newPassword","confirmNewPassword","listFile","update","invalid","updateProfile","value","id","files","then","resp","changeUserInfo","snapshot","user","hasError","notification","src_app_lib_data_models__WEBPACK_IMPORTED_MODULE_0__","updateSwitch","er","alert","error","message","_a","JSON","stringify","_b","passwordFormControl","submitted","passwordProfile","userName","username","changePassword","reset","event","add","remove","forEach","e","i","includes","splice","removeAll","setValue","join","selectors","features","src_app_lib_data_services__WEBPACK_IMPORTED_MODULE_1__","decls","vars","consts","template","ProfilesModule","src_app_lib_data_services_profiles_profile_service__WEBPACK_IMPORTED_MODULE_2__","_angular_common__WEBPACK_IMPORTED_MODULE_5__","_angular_forms__WEBPACK_IMPORTED_MODULE_6__","_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__","ng2_smart_table__WEBPACK_IMPORTED_MODULE_8__","_profile_routing_module__WEBPACK_IMPORTED_MODULE_1__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_profile_settings_profile_settings_component__WEBPACK_IMPORTED_MODULE_3__"],"sources":["webpack:///src/app/components/profiles/profile-routing.module.ts","webpack:///src/app/components/profiles/profile-settings/profile-settings.component.html","webpack:///src/app/components/profiles/profile-settings/profile-settings.component.ts","webpack:///src/app/components/profiles/profiles.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProfileSettingsComponent } from './profile-settings/profile-settings.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        children: [\r\n            {\r\n                path: 'profile-settings',\r\n                component: ProfileSettingsComponent,\r\n                data: {\r\n                    title: \"Profile Settings\",\r\n                    breadcrumb: \"Profile Settings\",\r\n                }\r\n            }\r\n        ]\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\n\r\nexport class ProfileRoutingModule { }\r\n","<!-- Container-fluid starts-->\r\n<div class=\"container-fluid\">\r\n  <div class=\"row\" style=\"justify-content: center\">\r\n    <div class=\"col-xl-12\">\r\n      <div class=\"card tab2-card mb-4\">\r\n        <div class=\"card-body\">\r\n          <ngb-tabset class=\"tab-coupon profile-tabs\">\r\n            <ngb-tab>\r\n              <ng-template ngbTabTitle>\r\n                <app-feather-icons [icon]=\"'user'\"></app-feather-icons>Profile\r\n              </ng-template>\r\n\r\n              <ng-template ngbTabContent>\r\n                <div\r\n                  class=\"tab-pane fade show active\"\r\n                  id=\"top-profile\"\r\n                  role=\"tabpanel\"\r\n                  aria-labelledby=\"top-profile-tab\"\r\n                >\r\n                  <div class=\"row\">\r\n                    <div class=\"col-11\">\r\n                      <div\r\n                        class=\"\r\n                          d-flex\r\n                          justify-content-between\r\n                          align-items-baseline\r\n                          mb-2\r\n                        \"\r\n                      >\r\n                        <h5 class=\"f-w-600\">Profile</h5>\r\n                        <div class=\"pull-right\" *ngIf=\"!update\">\r\n                          <button\r\n                            (click)=\"updateSwitch()\"\r\n                            class=\"btn btn-primary\"\r\n                          >\r\n                            Update Profile\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"table-responsive profile-table\" *ngIf=\"!update\">\r\n                    <table class=\"table table-responsive\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td>First Name:</td>\r\n                          <td>{{ userInfo?.firstName }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>Last Name:</td>\r\n                          <td>{{ userInfo?.lastName }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>Email:</td>\r\n                          <td>{{ userInfo?.email }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>Avatar:</td>\r\n                          <!-- <td>{{userInfo.imageUrl}}</td> -->\r\n                          <img\r\n                            [src]=\"getImage\"\r\n                            style=\"width: 200px; height: 200px\"\r\n                            appUiImageLoader\r\n                          />\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                <div *ngIf=\"update\">\r\n                  <form\r\n                    [formGroup]=\"profileForm\"\r\n                    class=\"needs-validation user-add\"\r\n                    novalidate=\"\"\r\n                  >\r\n                    <div class=\"form-group row\">\r\n                      <label for=\"validationCustom0\" class=\"col-xl-3 col-md-4\"\r\n                        ><span>*</span> First name</label\r\n                      >\r\n                      <input\r\n                        class=\"form-control col-xl-5 col-md-7\"\r\n                        id=\"validationCustom0\"\r\n                        type=\"text\"\r\n                        required\r\n                        formControlName=\"firstName\"\r\n                        [ngClass]=\"{\r\n                          'is-invalid':\r\n                            (profileFormControl.firstName.touched ||\r\n                              submitted) &&\r\n                            profileFormControl.firstName.errors?.required\r\n                        }\"\r\n                      />\r\n                      <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                        <span\r\n                          class=\"text-danger\"\r\n                          *ngIf=\"\r\n                            (profileFormControl.firstName.touched ||\r\n                              submitted) &&\r\n                            profileFormControl.firstName.errors?.required\r\n                          \"\r\n                        >\r\n                          This field is required\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                      <label for=\"\" class=\"col-xl-3 col-md-4\"\r\n                        ><span>*</span> Last name</label\r\n                      >\r\n                      <input\r\n                        class=\"form-control col-xl-5 col-md-7\"\r\n                        id=\"\"\r\n                        type=\"text\"\r\n                        formControlName=\"lastName\"\r\n                        [ngClass]=\"{\r\n                          'is-invalid':\r\n                            (profileFormControl.lastName.touched ||\r\n                              submitted) &&\r\n                            profileFormControl.lastName.errors?.required\r\n                        }\"\r\n                      />\r\n                      <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                        <span\r\n                          class=\"text-danger\"\r\n                          *ngIf=\"\r\n                            (profileFormControl.lastName.touched ||\r\n                              submitted) &&\r\n                            profileFormControl.lastName.errors?.required\r\n                          \"\r\n                        >\r\n                          Last name is required\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                      <label for=\"validationCustom1\" class=\"col-xl-3 col-md-4\"\r\n                        ><span>*</span> Email</label\r\n                      >\r\n                      <input\r\n                        class=\"form-control col-xl-5 col-md-7\"\r\n                        id=\"validationCustom1\"\r\n                        type=\"text\"\r\n                        required=\"\"\r\n                        formControlName=\"email\"\r\n                        [ngClass]=\"{\r\n                          'is-invalid':\r\n                            (profileFormControl.email.touched || submitted) &&\r\n                            profileFormControl.email.errors?.required\r\n                        }\"\r\n                      />\r\n                      <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                        <span\r\n                          class=\"text-danger\"\r\n                          *ngIf=\"\r\n                            (profileFormControl.email.touched || submitted) &&\r\n                            profileFormControl.email.errors?.required\r\n                          \"\r\n                        >\r\n                          This field is required\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group row\">\r\n                      <label for=\"validationCustom2\" class=\"col-xl-3 col-md-4\"\r\n                        ><span>*</span> Avatar</label\r\n                      >\r\n                      <input\r\n                        class=\"form-control\"\r\n                        id=\"validationCustom2\"\r\n                        type=\"text\"\r\n                        required=\"\"\r\n                        formControlName=\"imageUrl\"\r\n                        hidden\r\n                        [ngClass]=\"{\r\n                          'is-invalid':\r\n                            (profileFormControl.imageUrl.touched ||\r\n                              submitted) &&\r\n                            profileFormControl.imageUrl.errors?.required\r\n                        }\"\r\n                      />\r\n                      <div class=\"col-xl-5 col-md-7 p-0\">\r\n                        <app-upload-file\r\n                          [data]=\"modalFile\"\r\n                          [fileURL]=\"fileURL\"\r\n                          styleFile=\"width: 100% height: auto;\"\r\n                          (onChange)=\"onChangeData($event)\"\r\n                        ></app-upload-file>\r\n                      </div>\r\n                      <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                        <span\r\n                          class=\"text-danger\"\r\n                          *ngIf=\"\r\n                            (profileFormControl.imageUrl.touched ||\r\n                              submitted) &&\r\n                            profileFormControl.imageUrl.errors?.required\r\n                          \"\r\n                        >\r\n                          This field is required\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"col-11\">\r\n                        <div class=\"row justify-content-between float-right\">\r\n                          <button\r\n                            *ngIf=\"update\"\r\n                            (click)=\"updateSwitch()\"\r\n                            class=\"btn btn-default\"\r\n                          >\r\n                            CANCEL\r\n                          </button>\r\n                          <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-primary\"\r\n                            (click)=\"updateDetails()\"\r\n                          >\r\n                            SAVE\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-tab>\r\n            <ngb-tab>\r\n              <ng-template ngbTabTitle>\r\n                <i data-feather=\"settings\"></i> Change Password\r\n              </ng-template>\r\n              <ng-template ngbTabContent>\r\n                <form\r\n                  [formGroup]=\"passwordForm\"\r\n                  class=\"needs-validation user-add\"\r\n                  novalidate=\"\"\r\n                >\r\n                  <h5 class=\"f-w-600\">Change Password</h5>\r\n                  <div class=\"form-group row\">\r\n                    <label for=\"\" class=\"col-xl-3 col-md-4\"\r\n                      ><span>*</span> Password</label\r\n                    >\r\n                    <input\r\n                      class=\"form-control col-xl-5 col-md-7\"\r\n                      id=\"\"\r\n                      type=\"password\"\r\n                      formControlName=\"password\"\r\n                      [ngClass]=\"{\r\n                        'is-invalid':\r\n                          (passwordFormControl.password.touched || submitted) &&\r\n                          passwordFormControl.password.errors?.required\r\n                      }\"\r\n                    />\r\n                    <div class=\"invalid-feedback col-md-3 offset-md-4\">\r\n                      <span\r\n                        class=\"text-danger\"\r\n                        *ngIf=\"\r\n                          (passwordFormControl.password.touched || submitted) &&\r\n                          passwordFormControl.password.errors?.required\r\n                        \"\r\n                      >\r\n                        This field is required\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-group row\">\r\n                    <label for=\"validationCustom1\" class=\"col-xl-3 col-md-4\"\r\n                      ><span>*</span> New Password</label\r\n                    >\r\n                    <input\r\n                      class=\"form-control col-xl-5 col-md-7\"\r\n                      id=\"validationCustom1\"\r\n                      type=\"password\"\r\n                      required=\"\"\r\n                      formControlName=\"newPassword\"\r\n                      [ngClass]=\"{\r\n                        'is-invalid':\r\n                          (passwordFormControl.newPassword.touched ||\r\n                            submitted) &&\r\n                          passwordFormControl.newPassword.errors?.required\r\n                      }\"\r\n                    />\r\n                    <div class=\"invalid-feedback col-md-3 offset-md-4\">\r\n                      <span\r\n                        class=\"text-danger\"\r\n                        *ngIf=\"\r\n                          (passwordFormControl.newPassword.touched ||\r\n                            submitted) &&\r\n                          passwordFormControl.newPassword.errors?.required\r\n                        \"\r\n                      >\r\n                        This field is required\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group row\">\r\n                    <label for=\"validationCustom2\" class=\"col-xl-3 col-md-4\"\r\n                      ><span>*</span> Confirm New Password</label\r\n                    >\r\n                    <input\r\n                      class=\"form-control col-xl-5 col-md-7\"\r\n                      id=\"validationCustom2\"\r\n                      type=\"password\"\r\n                      required=\"\"\r\n                      formControlName=\"confirmNewPassword\"\r\n                      [ngClass]=\"{\r\n                        'is-invalid':\r\n                          ((passwordFormControl.confirmNewPassword.touched ||\r\n                            submitted) &&\r\n                            passwordFormControl.confirmNewPassword.errors\r\n                              ?.required) ||\r\n                          (passwordFormControl.confirmNewPassword.value !==\r\n                            passwordFormControl.newPassword.value &&\r\n                            passwordFormControl.confirmNewPassword.value\r\n                              .length > 0)\r\n                      }\"\r\n                    />\r\n                    <div class=\"invalid-feedback col-md-7 offset-md-4\">\r\n                      <span\r\n                        class=\"text-danger\"\r\n                        *ngIf=\"\r\n                          (passwordFormControl.confirmNewPassword.touched ||\r\n                            submitted) &&\r\n                          passwordFormControl.confirmNewPassword.errors\r\n                            ?.required\r\n                        \"\r\n                      >\r\n                        This field is required\r\n                      </span>\r\n                    </div>\r\n                    <div class=\"invalid-feedback col-md-7 offset-md-4 d-block\">\r\n                      <span\r\n                        class=\"text-danger\"\r\n                        *ngIf=\"\r\n                          passwordFormControl.confirmNewPassword.value !==\r\n                            passwordFormControl.newPassword.value &&\r\n                          passwordFormControl.confirmNewPassword.value\r\n                        \"\r\n                      >\r\n                        New password and Confirm new password are not the same\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-11\">\r\n                      <div class=\"row float-right\">\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-primary\"\r\n                          (click)=\"changePassword()\"\r\n                        >\r\n                          CHANGE PASSWORD\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </ng-template>\r\n            </ngb-tab>\r\n          </ngb-tabset>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport {\r\n  ChangePasswordProfileModel,\r\n  FileDtoModel,\r\n  ProfileModel,\r\n  ReturnMessage,\r\n  TypeSweetAlertIcon,\r\n  UserDataReturnDTOModel,\r\n} from 'src/app/lib/data/models';\r\n\r\nimport {\r\n  AuthService,\r\n  FileService,\r\n  ProfileService,\r\n} from 'src/app/lib/data/services';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport {\r\n  ModalFile,\r\n  TypeFile,\r\n  EntityType,\r\n} from 'src/app/shared/components/modals/models/modal.model';\r\nimport Swal from 'sweetalert2';\r\nimport { Subscription } from 'rxjs';\r\nimport { MessageService } from 'src/app/lib/data/services/messages/message.service';\r\n\r\n@Component({\r\n  selector: 'app-profile-settings',\r\n  templateUrl: './profile-settings.component.html',\r\n  styleUrls: ['./profile-settings.component.scss'],\r\n  providers: [AuthService],\r\n})\r\nexport class ProfileSettingsComponent implements OnInit, OnDestroy {\r\n  public userInfo: UserDataReturnDTOModel;\r\n  public profileForm: FormGroup;\r\n  public passwordForm: FormGroup;\r\n  submitted = false;\r\n  public updateProfile: ProfileModel;\r\n  public passwordProfile: ChangePasswordProfileModel;\r\n  update = false;\r\n\r\n  public modalFile: ModalFile;\r\n  public fileURL: (String | ArrayBuffer)[];\r\n\r\n  entrySub: Subscription;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private profileService: ProfileService,\r\n    private route: ActivatedRoute,\r\n    private authService: AuthService,\r\n    private messageService: MessageService\r\n  ) {\r\n    this.modalFile = new ModalFile();\r\n    this.modalFile.typeFile = TypeFile.IMAGE;\r\n    this.modalFile.multiBoolen = false;\r\n    this.modalFile.enityType = EntityType.USER;\r\n  }\r\n  ngOnDestroy(): void {\r\n    if (this.entrySub) {\r\n      this.entrySub.unsubscribe();\r\n      this.entrySub = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.entrySub = this.authService.callUserInfo.subscribe((it) => {\r\n      this.userInfo = it;\r\n      this.loadFormItem();\r\n      if (this.userInfo) {\r\n        this.fileURL = [];\r\n        this.fileURL.push(this.userInfo.imageUrl);\r\n      }\r\n    });\r\n  }\r\n\r\n  get profileFormControl() {\r\n    return this.profileForm.controls;\r\n  }\r\n  get passwordFormControl() {\r\n    return this.passwordForm.controls;\r\n  }\r\n\r\n  loadFormItem() {\r\n    this.profileForm = this.formBuilder.group({\r\n      firstName: [\r\n        this.userInfo ? this.userInfo.firstName : '',\r\n        Validators.required,\r\n      ],\r\n      lastName: [\r\n        this.userInfo ? this.userInfo.lastName : '',\r\n        Validators.required,\r\n      ],\r\n      email: [this.userInfo ? this.userInfo.email : '', Validators.required],\r\n      imageUrl: [\r\n        this.userInfo ? this.userInfo.imageUrl : '',\r\n        Validators.required,\r\n      ],\r\n    });\r\n    this.passwordForm = this.formBuilder.group({\r\n      password: ['', Validators.required],\r\n      newPassword: ['', Validators.required],\r\n      confirmNewPassword: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  updateSwitch() {\r\n    this.modalFile.listFile = [];\r\n    this.update = this.update == true ? false : true;\r\n  }\r\n  updateDetails() {\r\n    if (this.profileForm.invalid) {\r\n      return;\r\n    }\r\n    this.updateProfile = {\r\n      firstName: this.profileForm.controls.firstName.value,\r\n      lastName: this.profileForm.controls.lastName.value,\r\n      email: this.profileForm.controls.email.value,\r\n      imageUrl: this.profileForm.controls.imageUrl.value,\r\n      id: this.userInfo.id,\r\n      files: this.modalFile.listFile,\r\n    };\r\n\r\n    this.profileService\r\n      .update(this.updateProfile)\r\n      .then((resp: ReturnMessage<UserDataReturnDTOModel>) => {\r\n        this.authService.changeUserInfo(resp.data);\r\n        this.route.snapshot.data.user = resp.data;\r\n        if (!resp.hasError) {\r\n          this.messageService.notification(\r\n            'Profile has been updated',\r\n            TypeSweetAlertIcon.SUCCESS\r\n          );\r\n          this.updateSwitch();\r\n        }\r\n      })\r\n      .catch((er) => {\r\n        this.messageService.alert(\r\n          er.error.message ??\r\n            JSON.stringify(er.error.error) ??\r\n            'Server Disconnecter',\r\n          TypeSweetAlertIcon.ERROR\r\n        );\r\n      });\r\n  }\r\n  changePassword() {\r\n    if (\r\n      this.passwordForm.invalid ||\r\n      this.passwordFormControl.confirmNewPassword.value !==\r\n        this.passwordFormControl.newPassword.value\r\n    ) {\r\n      this.submitted = true;\r\n      return;\r\n    }\r\n    this.passwordProfile = {\r\n      password: this.passwordForm.controls.password.value,\r\n      newPassword: this.passwordForm.controls.newPassword.value,\r\n      confirmNewPassword: this.passwordForm.controls.confirmNewPassword.value,\r\n      userName: this.userInfo.username,\r\n    };\r\n    this.profileService\r\n      .changePassword(this.passwordProfile)\r\n      .then((resp) => {\r\n        this.passwordForm.reset();\r\n        this.messageService.notification(\r\n          'Password has been changed',\r\n          TypeSweetAlertIcon.SUCCESS\r\n        );\r\n        this.submitted = false;\r\n      })\r\n      .catch((er) => {\r\n        this.messageService.notification(\r\n          er.error.message ??\r\n            JSON.stringify(er.error.error) ??\r\n            'Server Disconnected',\r\n          TypeSweetAlertIcon.ERROR\r\n        );\r\n      });\r\n  }\r\n\r\n  onChangeData(event: { add: string[]; remove: string; removeAll: boolean }) {\r\n    if (event == null) {\r\n      return;\r\n    }\r\n\r\n    if (!this.fileURL) {\r\n      this.fileURL = [];\r\n    }\r\n\r\n    if (event.add) {\r\n      this.fileURL = [...this.fileURL, ...event.add];\r\n    }\r\n\r\n    if (event.remove) {\r\n      this.fileURL.forEach((e: string, i) => {\r\n        if (e.includes(event.remove)) {\r\n          this.fileURL.splice(i, 1);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (event.removeAll) {\r\n      this.fileURL = [];\r\n    }\r\n\r\n    this.profileForm.controls.imageUrl.setValue(this.fileURL.join(','));\r\n  }\r\n\r\n  get getImage() {\r\n    // console.log(\"get image\");\r\n    return this.userInfo?.imageUrl;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\nimport { ProfileService } from 'src/app/lib/data/services/profiles/profile.service';\r\nimport { ProfileSettingsComponent } from './profile-settings/profile-settings.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        NgbModule,\r\n        Ng2SmartTableModule,\r\n        ProfileRoutingModule,\r\n        SharedModule\r\n    ],\r\n    declarations: [ProfileSettingsComponent],\r\n    providers: [ProfileService]\r\n})\r\nexport class ProfilesModule { }\r\n"]}