!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(self.webpackChunkmultikart_backend=self.webpackChunkmultikart_backend||[]).push([[246],{60246:function(t,r,o){o.r(r),o.d(r,{PageContentModule:function(){return I}});var a,l=o(38583),s=o(90665),u=o(22744),c=o(15834),d=o(61861),m=o(70429),p=o(10494),f=o(98616),g=o(37716),h=o(8403),v=((a=function(){function e(t){n(this,e),this.httpClient=t,this.url="/api/page-content"}return i(e,[{key:"get",value:function(e){return this.httpClient.getObservable(this.url,e).toPromise()}},{key:"update",value:function(e){return this.httpClient.putObservable(this.url,e).toPromise()}},{key:"create",value:function(e){return this.httpClient.postObservable(this.url,e).toPromise()}},{key:"delete",value:function(e){return this.httpClient.deleteObservable("".concat(this.url,"/?id=").concat(e)).toPromise()}},{key:"saveChange",value:function(e){return e.id?this.update(e):this.create(e)}}]),e}()).\u0275fac=function(e){return new(e||a)(g.LFG(h.Y))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac}),a),Z=o(57870),C=o(59314),b=o(5383),y=o(48802),A=o(8383),q=o(20985),T=o(71279),U=o(75288),S=o(36711);function F(e,t){1&e&&(g.TgZ(0,"span",25),g._uU(1,"Required"),g.qZA())}function k(e,t){1&e&&(g.TgZ(0,"span",25),g._uU(1,"Required"),g.qZA())}function x(e,t){1&e&&(g.TgZ(0,"span",25),g._uU(1,"Required"),g.qZA())}var R=function(e){return{"is-invalid ":e}},w=function(e){return{"invalid-ckeditor":e}},J=function(){var t=function(){function t(e,r,i,o){n(this,t),this.formBuilder=e,this.pageContentService=r,this.ngbActiveModal=i,this.messageService=o,this.submitted=!1,this.editor=y,this.editorConfig={extraPlugins:[A.Z]},this.modalFile=new b.mH,this.modalFile.typeFile=b.U9.IMAGE,this.modalFile.multiBoolen=!1,this.modalFile.enityType=b.py.BANNER}return i(t,[{key:"onReady",value:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}},{key:"ngOnInit",value:function(){var e,t=this;this.loadItem(),(null===(e=this.item)||void 0===e?void 0:e.imageUrl)&&(this.fileURL=[],this.item.imageUrl.split(",").forEach(function(e){t.fileURL.push(e)}))}},{key:"loadItem",value:function(){this.pageContentForm=this.formBuilder.group({title:[this.item?this.item.title:"",s.kI.required],shortDes:[this.item?this.item.shortDes:""],imageUrl:[this.item?this.item.imageUrl:""],order:[this.item?this.item.order:0,s.kI.required],description:[this.item?this.item.description:"",s.kI.required]}),this.modalHeader=new b.IQ,this.modalHeader.title=this.item?"Update":"Add",this.modalFooter=new b.Jt,this.modalFooter.title="Save"}},{key:"pageContentFormControl",get:function(){return this.pageContentForm.controls}},{key:"save",value:function(){this.submitted=!0,!this.pageContentForm.invalid&&(this.pageContent={id:this.item?this.item.id:"",title:this.pageContentForm.value.title.trim(),description:this.pageContentForm.value.description,imageUrl:this.pageContentForm.controls.imageUrl.value,shortDes:this.pageContentForm.value.shortDes.trim(),order:this.pageContentForm.value.order,files:this.modalFile.listFile},this.callServiceToSave())}},{key:"callServiceToSave",value:function(){var e=this;this.pageContentService.saveChange(this.pageContent).then(function(){e.messageService.notification(e.item?"Update Success":"Create Success",f.b.SUCCESS),e.ngbActiveModal.close(),e.submitted=!1}).catch(function(t){var n,r;e.messageService.alert(null!==(r=null!==(n=t.error.message)&&void 0!==n?n:JSON.stringify(t.error.error))&&void 0!==r?r:"Server Disconnected",f.b.ERROR)})}},{key:"close",value:function(e){this.ngbActiveModal.dismiss()}},{key:"onChangeData",value:function(t){var n=this;null!=t&&(this.fileURL||(this.fileURL=[]),t.add&&(this.fileURL=[].concat(e(this.fileURL),e(t.add))),t.remove&&this.fileURL.forEach(function(e,r){e.includes(t.remove)&&n.fileURL.splice(r,1)}),t.removeAll&&(this.fileURL=[]),this.pageContentForm.controls.imageUrl.setValue(this.fileURL.join(",")))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(s.qu),g.Y36(v),g.Y36(c.Kz),g.Y36(q.e))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-page-content-details"]],inputs:{item:"item"},features:[g._Bn([v])],decls:50,vars:20,consts:[[3,"data","onAction"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card","tab2-card"],[1,"card-body"],["id","account","role","tabpanel","aria-labelledby","account-tab",1,"tab-pane","fade","active","show"],["novalidate","",1,"needs-validation","user-add",3,"formGroup"],[1,"form-group","row"],[1,"col-xl-3","col-md-4","d-flex","flex-column"],["type","text","formControlName","title",1,"form-control","col-xl-9","col-md-8",3,"ngClass"],[1,"invalid-feedback","offset-md-4","offset-xl-3"],["class","text-danger",4,"ngIf"],[1,"col-xl-3","col-md-4"],["rows","4","role","textbox","formControlName","shortDes",1,"form-control","col-xl-9","col-md-8"],["type","number","formControlName","order",1,"form-control","col-xl-9","col-md-8",3,"ngClass"],["for","validationCustom2",1,"col-xl-3","col-md-4","d-flex","flex-column"],["id","validationCustom2","type","text","formControlName","imageUrl","hidden","",1,"form-control","col-xl-8","col-md-7"],[1,"col-xl-9","col-md-8","p-0"],["styleFile","width: 100%; height: auto;",3,"data","fileURL","onChange"],[1,"col-11","pb-2","d-flex"],[1,"d-flex","mr-2"],[1,"mr-1"],[1,"invalid-feedback","d-block"],["type","text","formControlName","description",1,"col-12","p-0",3,"editor","config","ngClass","ready"],[1,"text-danger"]],template:function(e,t){1&e&&(g.TgZ(0,"app-modal-header",0),g.NdJ("onAction",function(e){return t.close(e)}),g.qZA(),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"div",5),g.TgZ(6,"div",6),g.TgZ(7,"form",7),g.TgZ(8,"h4"),g._uU(9,"Page Content Details"),g.qZA(),g.TgZ(10,"div",8),g.TgZ(11,"label",9),g.TgZ(12,"div"),g.TgZ(13,"span"),g._uU(14,"*"),g.qZA(),g._uU(15," Title"),g.qZA(),g.qZA(),g._UZ(16,"input",10),g.TgZ(17,"div",11),g.YNc(18,F,2,0,"span",12),g.qZA(),g.qZA(),g.TgZ(19,"div",8),g.TgZ(20,"label",13),g.TgZ(21,"div"),g._uU(22,"Short Description"),g.qZA(),g.qZA(),g._UZ(23,"textarea",14),g.qZA(),g.TgZ(24,"div",8),g.TgZ(25,"label",13),g.TgZ(26,"div"),g.TgZ(27,"span"),g._uU(28,"*"),g.qZA(),g._uU(29," Display Order"),g.qZA(),g.qZA(),g._UZ(30,"input",15),g.TgZ(31,"div",11),g.YNc(32,k,2,0,"span",12),g.qZA(),g.qZA(),g.TgZ(33,"div",8),g.TgZ(34,"label",16),g.TgZ(35,"div"),g._uU(36,"Image"),g.qZA(),g.qZA(),g._UZ(37,"input",17),g.TgZ(38,"div",18),g.TgZ(39,"app-upload-file",19),g.NdJ("onChange",function(e){return t.onChangeData(e)}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(40,"div",8),g.TgZ(41,"label",20),g.TgZ(42,"div",21),g.TgZ(43,"span",22),g._uU(44,"*"),g.qZA(),g._uU(45," Description "),g.qZA(),g.TgZ(46,"div",23),g.YNc(47,x,2,0,"span",12),g.qZA(),g.qZA(),g.TgZ(48,"ckeditor",24),g.NdJ("ready",function(e){return t.onReady(e)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(49,"app-modal-footer",0),g.NdJ("onAction",function(){return t.save()}),g.qZA()),2&e&&(g.Q6J("data",t.modalHeader),g.xp6(7),g.Q6J("formGroup",t.pageContentForm),g.xp6(9),g.Q6J("ngClass",g.VKq(14,R,t.submitted&&(null==t.pageContentFormControl.title.errors?null:t.pageContentFormControl.title.errors.required))),g.xp6(2),g.Q6J("ngIf",t.submitted&&(null==t.pageContentFormControl.title.errors?null:t.pageContentFormControl.title.errors.required)),g.xp6(12),g.Q6J("ngClass",g.VKq(16,R,t.submitted&&(null==t.pageContentFormControl.order.errors?null:t.pageContentFormControl.order.errors.required))),g.xp6(2),g.Q6J("ngIf",t.submitted&&(null==t.pageContentFormControl.order.errors?null:t.pageContentFormControl.order.errors.required)),g.xp6(7),g.Q6J("data",t.modalFile)("fileURL",t.fileURL),g.xp6(8),g.Q6J("ngIf",t.submitted&&(null==t.pageContentFormControl.description.errors?null:t.pageContentFormControl.description.errors.required)),g.xp6(1),g.Q6J("editor",t.editor)("config",t.editorConfig)("config",t.editorConfig)("ngClass",g.VKq(18,w,t.submitted&&(null==t.pageContentFormControl.description.errors?null:t.pageContentFormControl.description.errors.required))),g.xp6(1),g.Q6J("data",t.modalFooter))},directives:[T.R,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,l.mk,l.O5,s.wV,U.R,u.u,S.Y],styles:[".invalid-ckeditor[_ngcontent-%COMP%]{box-shadow:#dc354540 0 0 0 .2rem}"]}),t}(),_=[{path:"",children:[{path:"list-page-content",component:function(){var e=function(){function e(t,r,i){n(this,e),this.modalService=t,this.service=r,this.messageService=i,this.settings={mode:"external",pager:{display:!0,perPage:10},actions:{position:"right"},columns:{title:{title:"Title",type:"custom",renderComponent:Z.M},shortDes:{title:"Short Description",type:"custom",renderComponent:Z.M},order:{title:"Display Order",value:"order",type:"custom",renderComponent:C.V}}},this.getList()}return i(e,[{key:"openPopup",value:function(e){var t=this,n=this.modalService.open(J,{size:"lg"});e&&(n.componentInstance.item=e.data),e||(n.componentInstance.item=e),n.result.then(function(e){t.getList()},function(e){})}},{key:"getList",value:function(){var e=this;this.service.get(null).then(function(t){t.hasError||(e.pageContents=t.data)}).catch(function(t){var n,r;e.messageService.alert(null!==(r=null!==(n=t.error.message)&&void 0!==n?n:JSON.stringify(t.error.error))&&void 0!==r?r:"Server Disconnected",f.b.ERROR)})}},{key:"delete",value:function(e){var t=this;"00000000-0000-0000-0000-000000000001"!=e.data.id&&"00000000-0000-0000-0000-000000000002"!=e.data.id&&"00000000-0000-0000-0000-000000000003"!=e.data.id?this.messageService.confirm("Do you want to delete the page content?").then(function(n){n.isConfirmed&&t.service.delete(e.data.id).then(function(){t.messageService.notification("Page content has been deleted",f.b.SUCCESS),t.getList()}).catch(function(e){var n,r;t.messageService.alert(null!==(r=null!==(n=e.error.message)&&void 0!==n?n:JSON.stringify(e.error.error))&&void 0!==r?r:"Server Disconnected",f.b.ERROR)})}):this.messageService.alert("Your access permissions may be inadequate to perform the requested operation on this resource.",f.b.INFO)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(c.FF),g.Y36(v),g.Y36(q.e))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-list-page-content"]],features:[g._Bn([v])],decls:9,vars:2,consts:[[1,"container-fluid"],[1,"card"],[1,"card-header"],[1,"card-body","vendor-table"],[1,"custom-datatable","media-datatable"],[1,"table-responsive"],[3,"settings","source","create","edit","delete","sourceChange"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"h5"),g._uU(4,"Page Content Details"),g.qZA(),g.qZA(),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.TgZ(8,"ng2-smart-table",6),g.NdJ("create",function(){return t.openPopup(null)})("edit",function(e){return t.openPopup(e)})("delete",function(e){return t.delete(e)})("sourceChange",function(e){return t.pageContents=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(8),g.Q6J("settings",t.settings)("source",t.pageContents))},directives:[d.T5],styles:[""]}),e}(),data:{title:"Page Content List",breadcrumb:"Page Content List"}}]}],L=function(){var e=i(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[p.Bz.forChild(_)],p.Bz]}),e}(),I=function(){var e=i(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[l.ez,L,s.UX,c.IJ,m.m,c.bz,d.ne,u.d]]}),e}()}}])}();